<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="with=device-width, inirial-scale=1.0">

    <title> 21) Async e Await</title>

    <style>

    </style>

</head>

<body>
    <!--
        1) Introduzione
        2) Async
        3) Await
        4) Riscriviamo le promise con async/await
        5) Come funzione
        6) Gestire gli errori try{} catch(e){}
        7) Promise.all()*
        8) Async e await nelle classi*
     -->

    <script>
        /* 
        async function hello() { 
            return "Hello" 
        };
        console.log(hello());

        let prova = async() => {
            return 'hello'
        }; 

        hello().then((value) => {
            console.log(value);
        }); 

        hello().then(console.log);
        hello().then(alert); 
        */

        async function myFetch() {
            try {
                let response = await fetch('coffee.jpg');
                let myBlob = await response.blob();

                let objectURL = URL.createObjectURL(myBlob);
                let image = document.createElement('img');
                image.src = objectURL;
                document.body.appendChild(image);

            } catch(e){
                console.log('There has been a problem with your fetch operation: ' + e.message);
            }
            
        }

        myFetch();

    </script>
</body>

</html>